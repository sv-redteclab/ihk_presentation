<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Sven Vaupel - RedTecLab GmbH - 18168</title>

    <link rel="stylesheet" href="css/reveal.css" />
    <link
      class="progress-bar-style"
      rel="stylesheet"
      href="css/reveal-progress-bar.css"
    />
    <link class="theme" rel="stylesheet" href="css/theme/white.css" />
    <link
      class="progress-bar-theme"
      rel="stylesheet"
      href="css/reveal-progress-bar-light.css"
    />
    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css" />
    <script>
      const agenda = [
        { id: 'einleitung', title: 'Einleitung' },
        { id: 'system', title: 'System' },
        { id: 'projekt', title: 'Projekt' },
        { id: 'entwurf', title: 'Entwurf' },
        // { id: 'komponenten', title: 'Komponenten' },
        { id: 'bereitstellung', title: 'Bereitstellung' },
        { id: 'resume', title: 'Resume' }
      ]
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section id="s1" class="layout-center" data-progress-bar-show="false">
          <h1 class="progress-bar-no-entry">Notepad-Service</h1>
          <h4 class="progress-bar-no-entry">ehem. Wishlist-Service</h4>
        </section>

        <section id="s2" class="layout-center" data-progress-bar-show="false">
          <h1 class="progress-bar-no-entry">AGENDA</h1>
          <ul style="list-style-type: none;">
            <li>Einleitung</li>
            <li>System</li>
            <li>Projekt</li>
            <li>Entwurf</li>
            <!-- <li> Komponenten </li> -->
            <li>Bereitstellung</li>
            <li>Resume</li>
          </ul>
        </section>

        <section id="s3" class="flex" data-progress-bar-id="einleitung">
          <h1 style="align-self: flex-start;">Die RTL</h1>
          <div style="align-self: stretch;  height:59vh;">
            <include src="./img/company.svg"></include>
          </div>
        </section>

        <section id="s4" class="flex" data-progress-bar-id="einleitung">
          <h1 style="align-self: flex-start;">Merkzettel</h1>
          <div style="align-self: stretch; height: 55vh;">
            <include src="./mastercss/notepad.css"></include>
            <include src="./img/notepad.svg"></include>
          </div>
        </section>

        <section id="s5" class="flex" data-progress-bar-id="system">
          <h1 style="align-self: flex-start;">Systemumgebung</h1>
          <!-- TODO SVG viewbox -->
          <div style="align-self: stretch; height:59vh;">
            <include src="./mastercss/new_architecture.css"></include>
            <include src="./img/new_architecture.svg"></include>
          </div>
        </section>

        <section id="s6" class="flex" data-progress-bar-id="system">
          <h1 style="align-self: flex-start;">Systemkomponenten</h1>
          <div style="align-self: stretch; height: 59vh;">
            <include src="./mastercss/components_combined.css"></include>
            <include src="./img/components_combined.svg"></include>
          </div>
        </section>

        <section
          id="s7-1"
          class="layout-columns"
          data-progress-bar-id="projekt"
        >
          <h1>Projektimpulse</h1>
          <style>
            #s7-1 h1 {
              margin-bottom: 2%;
            }
            #s7-1 h4 {
              margin-bottom: 5%;
              text-align: left;
            }
            #s7-1 ul {
              margin-left: 0;
              padding: 0 !important;
              list-style-type: none;
            }
            #s7-1 li {
              margin: 0 !important;
              padding-left: 0.5em;
            }
            #s7-1 li:before {
              content: '•';
              float: left;
              margin-left: -0.5em;
            }
            #s7-1 ul ul {
              margin-left: -2%;
            }
            #s7-1 > div {
              height: 59vh;
            }
            #s7-1 .quality {
              overflow: hidden;
              word-wrap: normal;
            }
            #s7-1 .quality:not(.visible) {
              width: 0%;
            }
            #s7-1 .quality.visible {
              animation: ewidth 1s;
            }
            @keyframes ewidth {
              from {
                width: 0%;
              }
              to {
                width: 33.33%;
              }
            }
            #s7-1 .headings,
            #s7-1 .lists {
              display: flex;
              justify-content: space-around;
            }
            #s7-1 .headings > *,
            #s7-1 .lists > * {
              width: 33.33%;
            }
          </style>
          <div data-fragment-index="12">
            <div class="headings">
              <h4 class="fragment" data-fragment-index="2">Dokumente</h4>
              <h4 class="quality fragment" data-fragment-index="12">
                Qualität
              </h4>
              <h4 class="fragment" data-fragment-index="6">
                Koopertation
              </h4>
            </div>
            <div class="lists">
              <ul>
                <li class="fragment" data-fragment-index="3">Antrag</li>
                <li class="fragment" data-fragment-index="4">
                  IHK
                  <ul>
                    <li>PH + LH</li>
                    <li>QM-Plan</li>
                    <li>
                      Strukturplan <br />
                      ...
                    </li>
                  </ul>
                </li>
                <li class="fragment" data-fragment-index="5">Bericht</li>
              </ul>

              <ul class="quality fragment" data-fragment-index="12">
                <li class="fragment" data-fragment-index="13">
                  Reviews
                </li>
                <li class="fragment" data-fragment-index="14">Testing</li>
                <li class="fragment" data-fragment-index="15">Automation</li>
              </ul>
              <ul class="fragment" data-fragment-index="7">
                <li>Agilität</li>
                <li class="fragment" data-fragment-index="9">
                  Funktions-übergreifend
                </li>
                <li class="fragment" data-fragment-index="10">Kommunikation</li>
              </ul>
            </div>
          </div>
        </section>

        <!-- <section id="s7-2" class="flex" data-progress-bar-id="1">
          <h1 style="align-self: flex-start;">Projektimpulse</h1>
        </section> -->

        <section id="s9" class="flex" data-progress-bar-id="projekt">
          <h1 style="align-self: flex-start;">Planung</h1>
          <div style="align-self: stretch; height: 59vh;">
            <include src="./mastercss/strukturplan_gesamt.css"></include>
            <include src="./img/strukturplan_gesamt.svg"></include>
          </div>
        </section>

        <section id="s11" class="flex" data-progress-bar-id="entwurf">
          <style>
            #s11 #OpenAPI {
              display: grid;
              grid-template-columns: auto 1fr;
              grid-auto-flow: column;
              grid-gap: 0.5em;
            }
            /* #s11 #OpenAPI.visible:not(.current-fragment) {
              display: none;
            } */
            #s11 #OpenAPI.visible,
            #s11 .no-display.visible {
              animation: noDisplay 1s;
              height: 0;
              opacity: 0;
              padding: 0;
            }
            @keyframes noDisplay {
              from {
                opacity: 1;
                height: 100%;
              }
              to {
                opacity: 0;
                height: 0;
                padding: 0;
              }
            }
          </style>
          <script>
            window.setTimeout(_ => {
              const scrollIfId = (id, value) => {
                if (event.fragment.id === id) {
                  document.getElementById('DIV_1').scrollBy({
                    top: value,
                    left: 0,
                    behavior: 'smooth'
                  })
                }
              }
              const handle = sign => event => {
                scrollIfId('DIV_48', sign * (50 + 293))
                scrollIfId('DIV_76', sign * (50 + 141 + 40))
                scrollIfId('TR_150', sign * (50 + 20 + 40 + 319))
                if (
                  event.fragments[1] &&
                  event.fragments[1].id === 'DIV_240' &&
                  sign === -1
                ) {
                  document.getElementById('DIV_1').scrollTo(0, 0)
                }
              }
              Reveal.addEventListener('fragmentshown', handle(1))
              Reveal.addEventListener('fragmenthidden', handle(-1))
            }, 1000)
          </script>
          <h1 style="align-self: flex-start;">Schnittstelle</h1>
          <div
            id="OpenAPI"
            class="fragment always-visible"
            data-fragment-index="2"
          >
            <div class="fragment" data-fragment-index="1">OpenAPI</div>
            <ul class="fragment" data-fragment-index="1">
              <li>Standard</li>
              <li>JSON/YML Format &rArr; Maschinenlesbar</li>
              <li>Objektbeschreibung als JSON-Schema</li>
            </ul>
          </div>
          <div style="align-self: stretch; height: 59vh;">
            <include src="./mastercss/swagger_snippet.css"></include>
            <include src="./img/swagger_snippet.html"></include>
          </div>
        </section>

        <section id="s12" class="flex" data-progress-bar-id="entwurf">
          <h1 style="align-self: flex-start;">Komponenten</h1>
          <ul style="margin-bottom: 0.5em;">
            <li>
              Koa Middleware als Eventhandle<br />
              <span>&rArr; Reichern HTTP context an</span> <br />
              <span>&rArr; Entscheiden über weitergabe</span>
            </li>
            <li>Trennung von DB-Zugriff un -Verbindung</li>
          </ul>
          <div
            style="
            align-self: stretch;
            overflow: hidden;
            height: inherit;
          "
          >
            <include src="./mastercss/service_komponenten.css"></include>
            <include src="./img/service_komponenten.svg"></include>
          </div>
        </section>

        <section id="s13" class="flex" data-progress-bar-id="entwurf">
          <h1 style="align-self: flex-start;">Kontrollfluss</h1>
          <div style="align-self: stretch; height: 59vh;">
            <include src="./mastercss/service_request.css"></include>
            <include src="./img/service_request.svg"></include>
          </div>
        </section>

        <section id="s14" class="flex" data-progress-bar-id="bereitstellung">
          <h1 style="align-self: flex-start;">Bereitstellung</h1>
          <div style="align-self: stretch; height: 59vh;">
            <include src="./mastercss/deployment_h.css"></include>
            <include src="./img/deployment_h.svg"></include>
          </div>
        </section>

        <section id="s15" class="flex" data-progress-bar-id="resume">
          <h1 style="align-self: flex-start; margin-bottom: 1em;">Resume</h1>
          <div
            style="
            align-self: center;
            display: grid;
            grid-template-rows: 1fr 1fr 1em 1fr 1fr;
            grid-template-columns: auto 1fr;
            grid-column-gap: 1em;
          "
          >
            <div
              class="fragment"
              data-fragment-index="1"
              style="justify-self: end; font-weight: bold; color: #f00000;"
            >
              &CircleMinus;
            </div>
            <div class="fragment" data-fragment-index="1">Dokumente</div>
            <div
              class="fragment"
              data-fragment-index="2"
              style="justify-self: end; font-weight: bold; color: green;"
            >
              &CirclePlus;
            </div>
            <div class="fragment" data-fragment-index="2">
              Volle Projektbegleitung
            </div>

            <div></div>
            <div></div>

            <div
              class="fragment"
              data-fragment-index="3"
              style="justify-self: end; font-weight: bold;"
            >
              Lessons:
            </div>
            <div class="fragment" data-fragment-index="3">Kiss + MVP</div>
            <div
              class="fragment"
              data-fragment-index="4"
              style="justify-self: end; font-weight: bold;"
            >
              Hopes:
            </div>
            <div class="fragment" data-fragment-index="4">
              Feegback für andere Azubis
            </div>
          </div>
        </section>

        <script>
          document
            .querySelectorAll('.slides section:not(#s7-1)')
            .forEach(e => (e.outerHTML = ''))
          window.setTimeout(_ => {
            for (let i = 0; i < 20; i++) {
              // Reveal.nextFragment()
            }
          }, 1000)
        </script>
      </div>
    </div>

    <script src="js/reveal.js"></script>

    <script>
      // replace include tags
      for (let e of document.getElementsByTagName('include')) {
        let src = e.getAttribute('src')
        fetch(src)
          .then(r => r.text())
          .then(html => {
            e.outerHTML = /.css$/.test(src) ? `<style>${html}</style>` : html
          })
      }

      // Insert spans for lowercase substrings into h tags
      document.querySelectorAll('h1,h2,h3,h4,h5,h6').forEach(e => {
        const open = '<span>'
        const close = '</span>'
        let wasLower = false
        let current = ''

        for (let l of e.innerText)
          if (/[a-zäüö]/.test(l)) {
            current += wasLower ? l : open + l
            wasLower = true
          } else {
            current += wasLower ? close + l : l
            wasLower = false
          }

        e.innerHTML = current
      })

      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        controls: false,
        slideNumber: true,
        // overview: false,
        progress: false,
        center: false,
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          {
            src: 'plugin/highlight/highlight.js',
            async: true,
            callback: function() {
              hljs.initHighlightingOnLoad()
            }
          },
          //{ src: 'plugin/reveal-agenda/reveal-agenda.js', async: true, callback: function() { reveal_agenda.initialize({ agenda, insertToPosition: 1 }); } },
          {
            src: 'plugin/reveal-progress-bar/reveal-progress-bar.js',
            async: true,
            callback: function() {
              reveal_progress_bar.initialize({ agenda })
            }
          }
        ]
      })

      Reveal.configure({
        keyboard: {
          /* P */ 80: () => {
            document.querySelector('.reveal .slides').setAttribute('style', '')
            print()
          }
        }
      })

      Reveal.addEventListener('slidechanged', event => {
        console.log(event)
        console.log(Reveal.getIndices())
      })

      Reveal.addEventListener('fragmentshown', function(event) {
        console.log(event)
      })
      Reveal.addEventListener('fragmenthidden', function(event) {
        console.log(event)
        // event.fragment = the fragment DOM element
      })
    </script>

    <link rel="stylesheet" href="./mastercss/master.css" />
    <link rel="stylesheet" href="./css/reveal-progress-bar.css" />
  </body>
</html>
